# Техническое задание: Telegram-бот для учета финансов

## 1. Общее описание

Telegram-бот для учета личных финансов с возможностью записи доходов и расходов, категоризации трат и просмотра статистики.

## 2. Функциональные требования

### 2.1. Основные функции

-   [x] Запись расходов в формате: `-сумма описание`
-   [x] Запись доходов в формате: `+сумма описание`
-   [x] Автоматическое определение категории по ключевым словам
-   [x] Просмотр текущего баланса
-   [x] Просмотр истории операций
-   [x] Просмотр статистики по периодам

### 2.2. Команды бота

-   [x] `/start` - начало работы с ботом
-   [x] `/help` - справка по командам
-   [x] `/balance` - текущий баланс
-   [x] `/history` - история операций за неделю
-   [x] `/stats [период]` - статистика за период (день/неделя/месяц/год)
-   [x] `/category [название]` - статистика по категории
-   [x] `/total` - общая статистика группы

### 2.3. Категории расходов

-   [x] Продукты
-   [x] Транспорт
-   [x] Жилье
-   [x] Развлечения
-   [x] Здоровье
-   [x] Одежда
-   [x] Образование
-   [x] Техника
-   [x] Подарки
-   [x] Связь

## 3. Технические требования

### 3.1. Технологии

-   [x] Python 3.8+
-   [x] python-telegram-bot
-   [x] SQLAlchemy
-   [x] SQLite для хранения данных
-   [x] python-dotenv для конфигурации

### 3.2. Безопасность

-   [x] Хранение токена в .env файле
-   [x] Проверка прав доступа к .env
-   [x] Логирование всех действий
-   [x] Обработка ошибок

### 3.3. Логирование обязательно

-   [x] Логирование всех команд
-   [x] Логирование ошибок
-   [x] Ротация логов
-   [x] Метрики производительности

### 3.4. Дополнительные требования

-   [x] Поддержка русского языка
-   [x] Эмодзи в сообщениях
-   [x] Форматирование сумм
-   [x] Обработка некорректного ввода

## 4. Структура проекта

```
finance-bot/
├── src/
│   ├── __init__.py
│   ├── bot.py
│   ├── database.py
│   ├── models.py
│   ├── middleware.py
│   ├── logger.py
│   ├── messages.py
│   └── run.py
├── scripts/
│   ├── run.bat
│   └── run.sh
├── docs/
│   └── requirements.md
├── data/
│   └── finance_bot.db
├── logs/
│   ├── bot.log
│   └── metrics.log
├── tests/
│   └── ...
├── .env
├── .env.example
├── .gitignore
├── README.md
├── requirements.txt
└── setup.py
```

## 5. Статус разработки

-   [x] Базовая структура проекта
-   [x] Основные команды бота
-   [x] База данных и модели
-   [x] Логирование и метрики
-   [x] Обработка ошибок
-   [x] Тестирование
-   [x] Документация
